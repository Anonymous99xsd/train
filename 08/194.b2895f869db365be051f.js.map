{"version":3,"file":"194.b2895f869db365be051f.js","mappings":"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","sources":["webpack://08/./src/components/Compare/index.js","webpack://08/./src/components/Result/index.js"],"sourcesContent":["/* eslint-disable react/prop-types */\r\nimport React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport toggle from '../toggle'\r\n\r\nexport default function Compare({ spinRef }) {\r\n    // 对比用户数据\r\n    const [usersname] = useState(window.location.hash.split('?')[1].split('&').map((v) => v.split('=')[1]) || [])\r\n    const [users, setUsers] = useState([])\r\n    const [error, setError] = useState()\r\n\r\n    // 获取用户数据\r\n    const getUser = (name) => {\r\n        console.log(users);\r\n        axios.get('https://api.github.com/users/' + name)\r\n        .then(response => {\r\n            let tempArr = users\r\n            tempArr.push(response.data)\r\n            console.log([...tempArr]);\r\n            setUsers([...tempArr])\r\n            localStorage.setItem('users', JSON.stringify(tempArr))\r\n            toggle(spinRef, false)\r\n        })\r\n        .catch(error => {\r\n            console.log(new Error('用户搜索失败', error))\r\n            setError(error)\r\n            toggle(spinRef, false)\r\n        })\r\n    }\r\n    \r\n    // 调用用户查询接口\r\n    useEffect(() => {\r\n        toggle(spinRef, true)\r\n        if (!usersname[0] || !usersname[1]) {\r\n        window.location.href = '/#/battle'\r\n        localStorage.removeItem('nameObj')\r\n        localStorage.removeItem('isBtn')\r\n        localStorage.removeItem('users')\r\n        }\r\n        getUser(usersname[0])\r\n        getUser(usersname[1])\r\n    }, [])\r\n\r\n    return (\r\n        (users.length === 2 && users?.map((item, index) => {\r\n        const bool = users[0].public_gists + users[0].public_repos >= users[1].public_gists + users[1].public_repos\r\n        const boolArr = [bool, !bool]\r\n        return (\r\n            <div style={{backgroundColor:'#eee', display:'flex', flexDirection:'column', alignItems:'center', padding:'15px 20px'}} key={item.id}>\r\n            <h2>{boolArr[index] ? 'Winner' : 'loser'}</h2>\r\n            <img style={{display:'block', width:'200px', height:'200px'}} src={item.avatar_url || require('../../assets/default.webp').default} alt=\"\" />\r\n            <h3>Score: {item.public_repos + item.public_gists}</h3>\r\n            <h2 style={{marginTop:'0', color:'#2091f9'}}>{item.name}</h2>\r\n            <div style={{width:'100%', textAlign:'left', marginBottom:'20px'}}>\r\n                <dd>\r\n                <i style={{marginRight:'14px'}} className=\"fa fa-location-arrow\"></i>\r\n                {item.location}\r\n                </dd>\r\n                <dd>\r\n                <i style={{marginRight:'10px'}} className=\"fa fa-group\"></i>\r\n                {item.followers}\r\n                </dd>\r\n                <dd>\r\n                <i style={{marginRight:'10px'}} className=\"fa fa-user-plus\"></i>\r\n                {item.following}\r\n                </dd>\r\n                <dd>\r\n                <i style={{marginRight:'10px'}} className=\"fa fa-code\"></i>\r\n                {item.public_repos}\r\n                </dd>\r\n            </div>\r\n            </div>\r\n        )\r\n        })) || (\r\n        <div>\r\n            <h1 style={{color:'red'}}>ERROR: 数据获取失败</h1>\r\n            <p style={{color:'red'}}>错误信息: {error?.toString()}</p>\r\n        </div>\r\n        )\r\n    )\r\n}\r\n","import React, { useState, useRef } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport Spin from '../Spin/index'\r\nimport Compare from '../Compare/index'\r\n\r\nexport default function Result() {\r\n    const [error] = useState()\r\n    const spinRef = useRef()\r\n    const resetClick = () => {\r\n        localStorage.removeItem('nameObj')\r\n        localStorage.removeItem('isBtn')\r\n        localStorage.removeItem('users')\r\n    }\r\n\r\n    return (\r\n        <div style={{width:'60%', margin:'0 auto', display:'flex', flexDirection:'column'}}>\r\n            <div style={{display:'flex', justifyContent:'space-around'}}>\r\n                <Compare spinRef={spinRef} error={error} />\r\n            </div>\r\n            <button onClick={() => resetClick()} style={{margin:'100px auto 0', width:'200px', fontSize:'22px', lineHeight:'40px', cursor:'pointer'}}>\r\n                <Link style={{textDecoration:'none', color:'#333', padding:'10px 55px'}} to='/battle'>RESET</Link>\r\n            </button>\r\n            <Spin spinRef={spinRef} />\r\n        </div>\r\n    )\r\n}\r\n"],"names":["Compare","spinRef","usersname","useState","window","location","hash","split","map","v","users","setUsers","error","setError","getUser","name","console","log","axios","then","response","tempArr","push","data","localStorage","setItem","JSON","stringify","toggle","Error","useEffect","href","removeItem","length","item","index","bool","public_gists","public_repos","boolArr","style","backgroundColor","display","flexDirection","alignItems","padding","key","id","width","height","src","avatar_url","require","alt","marginTop","color","textAlign","marginBottom","marginRight","className","followers","following","toString","Result","useRef","margin","justifyContent","onClick","fontSize","lineHeight","cursor","textDecoration","to","Spin"],"sourceRoot":""}