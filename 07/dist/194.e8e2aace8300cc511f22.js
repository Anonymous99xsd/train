"use strict";(self.webpackChunk_08=self.webpackChunk_08||[]).push([[194],{3194:(e,t,r)=>{r.r(t),r.d(t,{default:()=>y});var n=r(7294),l=r(3727),o=r(1183),a=r(9669),i=r.n(a),c=r(7782);function u(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,l,o=[],a=!0,i=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){i=!0,l=e}finally{try{a||null==r.return||r.return()}finally{if(i)throw l}}return o}}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e){var t=e.spinRef,l=s((0,n.useState)(window.location.hash.split("?")[1].split("&").map((function(e){return e.split("=")[1]}))||[]),1)[0],o=s((0,n.useState)([]),2),a=o[0],m=o[1],f=s((0,n.useState)(),2),p=f[0],d=f[1],y=function(e){console.log(a),i().get("https://api.github.com/users/"+e).then((function(e){var r=a;r.push(e.data),console.log(u(r)),m(u(r)),localStorage.setItem("users",JSON.stringify(r)),(0,c.Z)(t,!1)})).catch((function(e){console.log(new Error("用户搜索失败",e)),d(e),(0,c.Z)(t,!1)}))};return(0,n.useEffect)((function(){(0,c.Z)(t,!0),l[0]&&l[1]||(window.location.hash="#/battle",localStorage.removeItem("nameObj"),localStorage.removeItem("isBtn"),localStorage.removeItem("users")),y(l[0]),y(l[1])}),[]),2===a.length&&(null==a?void 0:a.map((function(e,t){var l,o=a[0].public_repos,i=a[1].public_repos;return console.log(a),l=o===i?["draw","draw"]:[o>i?"winner":"loser",o<i?"winner":"loser"],n.createElement("div",{style:{backgroundColor:"#eee",display:"flex",flexDirection:"column",alignItems:"center",padding:"15px 20px"},key:e.id},n.createElement("h2",null,l[t]),n.createElement("img",{style:{display:"block",width:"200px",height:"200px"},src:e.avatar_url||r(1043).default,alt:""}),n.createElement("h3",null,"Score: ",e.public_repos+e.public_gists),n.createElement("h2",{style:{marginTop:"0",color:"#2091f9"}},e.name),n.createElement("div",{style:{width:"100%",textAlign:"left",marginBottom:"20px"}},n.createElement("dd",null,n.createElement("i",{style:{marginRight:"14px"},className:"fa fa-location-arrow"}),e.location),n.createElement("dd",null,n.createElement("i",{style:{marginRight:"10px"},className:"fa fa-group"}),e.followers),n.createElement("dd",null,n.createElement("i",{style:{marginRight:"10px"},className:"fa fa-user-plus"}),e.following),n.createElement("dd",null,n.createElement("i",{style:{marginRight:"10px"},className:"fa fa-code"}),e.public_repos)))})))||n.createElement("div",null,n.createElement("h1",{style:{color:"red"}},"ERROR: 数据获取失败"),n.createElement("p",{style:{color:"red"}},"错误信息: ",null==p?void 0:p.toString()))}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(){var e,t,r=(e=(0,n.useState)(),t=1,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,l,o=[],a=!0,i=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){i=!0,l=e}finally{try{a||null==r.return||r.return()}finally{if(i)throw l}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],a=(0,n.useRef)();return n.createElement("div",{style:{width:"60%",margin:"0 auto",display:"flex",flexDirection:"column"}},n.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},n.createElement(p,{spinRef:a,error:r})),n.createElement("button",{onClick:function(){return localStorage.removeItem("nameObj"),localStorage.removeItem("isBtn"),void localStorage.removeItem("users")},style:{margin:"100px auto 0",width:"200px",fontSize:"22px",lineHeight:"40px",cursor:"pointer"}},n.createElement(l.rU,{style:{textDecoration:"none",color:"#333",padding:"10px 55px"},to:"/battle"},"RESET")),n.createElement(o.Z,{spinRef:a}))}}}]);
//# sourceMappingURL=194.e8e2aace8300cc511f22.js.map