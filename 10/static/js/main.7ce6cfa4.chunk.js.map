{"version":3,"sources":["assets sync /^/.*/.jpg$","index.js","Model/cart.js","assets/0.jpg","assets/1.jpg","assets/10.jpg","assets/11.jpg","assets/12.jpg","assets/13.jpg","assets/14.jpg","assets/15.jpg","assets/16.jpg","assets/17.jpg","assets/2.jpg","assets/3.jpg","assets/4.jpg","assets/5.jpg","assets/6.jpg","assets/7.jpg","assets/8.jpg","assets/9.jpg","components/Filters/index.js","components/Items/index.js","components/Spin/index.js","components/Shelf/index.js","components/Float/index.js","App.js","router.js","Model/services/util.js","Model/products.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","app","dva","model","require","default","router","start","namespace","state","shopCart","isEject","effects","getShopCart","_","call","put","JSON","parse","localStorage","getItem","type","payload","reducers","addToCart","good","tempCart","sign","v","quantity","push","openShop","closeShop","deleteCart","i","splice","length","slice","addOneGood","subtrackGood","clearShopCart","setShopCart","connect","sizes","products","props","useState","isFilter","setIsFilter","className","entries","arr","htmlFor","value","onClick","sizeName","bool","dispatch","obj","stringify","values","filter","name","chooseSize","data","itemRef","useRef","useEffect","current","getNum","childNodes","list","size","sizeArr","item","ref","availableSizes","includes","src","alt","title","style","marginBottom","join","price","toString","split","fontSize","substr","installments","toFixed","Spin","isSpin","display","error","setQuantity","sortWay","setSortWay","menu","key","sortItem","Item","Divider","overlay","trigger","preventDefault","len","color","cart","totalPrice","setTotalPrice","isModalVisible","setIsModalVisible","boxRef","ctlRef","quantityRef","openRef","delRef","openFloat","classList","add","closeFloat","remove","cross","document","querySelectorAll","addEventListener","target","parentNode","backgroundColor","textDecoration","num","reduce","pre","cur","total","init","setInit","setItem","parseFloat","undefined","disabled","totalInstallment","notification","message","description","okText","cancelText","visible","onOk","success","onCancel","RouterConfig","history","path","exact","component","App","getList","fetch","then","response","json","catch","sortCart","sort","a","b","getListHttp","result","sortCarts","select","setData","res","get","filterSize","console","log"],"mappings":"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","file":"static/js/main.7ce6cfa4.chunk.js","sourcesContent":["var map = {\n\t\"./0.jpg\": 395,\n\t\"./1.jpg\": 396,\n\t\"./10.jpg\": 397,\n\t\"./11.jpg\": 398,\n\t\"./12.jpg\": 399,\n\t\"./13.jpg\": 400,\n\t\"./14.jpg\": 401,\n\t\"./15.jpg\": 402,\n\t\"./16.jpg\": 403,\n\t\"./17.jpg\": 404,\n\t\"./2.jpg\": 405,\n\t\"./3.jpg\": 406,\n\t\"./4.jpg\": 407,\n\t\"./5.jpg\": 408,\n\t\"./6.jpg\": 409,\n\t\"./7.jpg\": 410,\n\t\"./8.jpg\": 411,\n\t\"./9.jpg\": 412\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 222;","import dva from \"dva\";\r\n\r\nconst app = dva()\r\n\r\napp.model(require('./Model/products').default)\r\napp.model(require('./Model/cart').default)\r\n\r\napp.router(require('./router').default)\r\n\r\napp.start('#root')","/* eslint-disable import/no-anonymous-default-export */\r\nexport default {\r\n    namespace: 'cart',\r\n    state: {\r\n        shopCart: [],\r\n        isEject: false,\r\n    },\r\n    effects: {\r\n        // 从本地存储中获取购物车数据\r\n        *getShopCart(_, { call, put }) {\r\n            let shopCart = yield JSON.parse(localStorage.getItem('shopCart'))\r\n            yield put({\r\n                type: 'setShopCart',\r\n                payload: shopCart\r\n            })\r\n        }\r\n    },\r\n    reducers: {\r\n        // 添加商品至购物车\r\n        addToCart(state, {payload: good}) {\r\n            // console.log('addToCart', good);\r\n            let tempCart = state.shopCart\r\n            let sign = false\r\n            for (let v of tempCart) {\r\n                if (v.id === good.id) {\r\n                    v.quantity++\r\n                    sign = true\r\n                    break\r\n                }\r\n            }\r\n            if (!sign) {\r\n                good.quantity = 1\r\n                tempCart.push(good)\r\n            }\r\n            state.shopCart = [...tempCart]\r\n            if (!state.isEject) state.isEject = true\r\n            return {\r\n                ...state,\r\n            }\r\n        },\r\n        // 打开购物车\r\n        openShop(state) {\r\n            if (!state.isEject) state.isEject = true\r\n            return { ...state }\r\n        },\r\n        // 关闭购物车\r\n        closeShop(state) {\r\n            if (state.isEject) state.isEject = false\r\n            return { ...state }\r\n        },\r\n        // 删除购物车中的商品\r\n        deleteCart(state, {payload: id}) {\r\n            // console.log('deleteCart', id);\r\n            let tempCart = state.shopCart\r\n            for (let i in tempCart) {\r\n                if (tempCart[i].id === id) {\r\n                    tempCart.splice(i, 1)\r\n                    break\r\n                }\r\n            }\r\n            if (tempCart.length === 0) state.isEject = false\r\n            state.shopCart = tempCart.slice()\r\n            return {\r\n                ...state\r\n            }\r\n        },\r\n        // 增加一个商品\r\n        addOneGood(state, {payload: id}) {\r\n            let tempCart = state.shopCart\r\n            for (let v of tempCart) {\r\n                if (v.id === id) {\r\n                    v.quantity++\r\n                    break\r\n                }\r\n            }\r\n            state.shopCart = tempCart.slice()\r\n            return {\r\n                ...state\r\n            }\r\n        },\r\n        // 减少一个商品\r\n        subtrackGood(state, {payload: id}) {\r\n            let tempCart = state.shopCart\r\n            for (let v of tempCart) {\r\n                if (v.id === id) {\r\n                    v.quantity--\r\n                    break\r\n                }\r\n            }\r\n            state.shopCart = tempCart.slice()\r\n            return {\r\n                ...state\r\n            }\r\n        },\r\n        // 清空购物车\r\n        clearShopCart(state) {\r\n            state.shopCart = []\r\n            state.isEject = false\r\n            return {\r\n                ...state\r\n            }\r\n        },\r\n        // 获取本地存储\r\n        setShopCart(state, { payload: shopCart}) {\r\n            return { ...state, shopCart }\r\n        }\r\n    }\r\n}","module.exports = __webpack_public_path__ + \"static/media/0.96badb6f.jpg\";","module.exports = __webpack_public_path__ + \"static/media/1.bfdc616c.jpg\";","module.exports = __webpack_public_path__ + \"static/media/10.c23ce225.jpg\";","module.exports = __webpack_public_path__ + \"static/media/11.ebf63603.jpg\";","module.exports = __webpack_public_path__ + \"static/media/12.1250c07d.jpg\";","module.exports = __webpack_public_path__ + \"static/media/13.054e6832.jpg\";","module.exports = __webpack_public_path__ + \"static/media/14.0d58ff93.jpg\";","module.exports = __webpack_public_path__ + \"static/media/15.be081f68.jpg\";","module.exports = __webpack_public_path__ + \"static/media/16.27b63c57.jpg\";","module.exports = __webpack_public_path__ + \"static/media/17.96badb6f.jpg\";","module.exports = __webpack_public_path__ + \"static/media/2.eeca77d9.jpg\";","module.exports = __webpack_public_path__ + \"static/media/3.9cb24054.jpg\";","module.exports = __webpack_public_path__ + \"static/media/4.96badb6f.jpg\";","module.exports = __webpack_public_path__ + \"static/media/5.e86f32a0.jpg\";","module.exports = __webpack_public_path__ + \"static/media/6.6487e09e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/7.7ec39881.jpg\";","module.exports = __webpack_public_path__ + \"static/media/8.310ac226.jpg\";","module.exports = __webpack_public_path__ + \"static/media/9.5a25035a.jpg\";","import React, { useState } from 'react'\r\nimport './index.css'\r\nimport { connect } from 'dva'\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        sizes: state.products.sizes\r\n    }\r\n}\r\n\r\nfunction Filters(props) {\r\n    // 是否开启过滤\r\n    const [isFilter, setIsFilter] = useState(true)\r\n\r\n    // 选择过滤尺码\r\n    function chooseSize(sizeName, bool) {\r\n        const { dispatch, sizes} = props\r\n        let obj = JSON.parse(JSON.stringify(sizes))\r\n        let len = Object.values(obj).filter(v => v === false).length\r\n        if (!len && isFilter) {\r\n            for (let name in obj) {\r\n                if (name === sizeName) continue\r\n                obj[name] = false\r\n            }\r\n            setIsFilter(false)\r\n        } else {\r\n            for (let name in obj) {\r\n                if (name === sizeName) {\r\n                    obj[name] = !bool\r\n                }\r\n            }\r\n        }\r\n        if (Object.values(obj).filter(v => v === true).length === 0) {\r\n            for (let name in obj) {\r\n                obj[name] = true\r\n            }\r\n            setIsFilter(true)\r\n        }\r\n        \r\n        dispatch({\r\n            type: 'products/filterSize',\r\n            payload: {\r\n                sizes: obj\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"filters\">\r\n            <h4 className=\"title\">尺码：</h4>\r\n            {\r\n                props.sizes && Object.entries(props.sizes).map((arr, i) => {\r\n                    return (\r\n                        <div className=\"filters-btn\" key={i}>\r\n                            <label htmlFor={arr[0]}>\r\n                                <input type=\"checkbox\" value={arr[0]} id={arr[0]} />\r\n                                <span onClick={() => {chooseSize(arr[0], arr[1])}} className=\"checkmark\">{arr[0]}</span>\r\n                            </label>\r\n                        </div>\r\n                    )\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps)(Filters)\r\n","import React, { useEffect, useRef } from 'react'\r\nimport { connect } from 'dva'\r\nimport './index.css'\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        data: state.products.data,\r\n        sizes: state.products.sizes\r\n    }\r\n}\r\n\r\nfunction Items(props) {\r\n    const itemRef = useRef()\r\n    const { dispatch } = props\r\n\r\n    // 添加至购物车\r\n    const addToCart = (good) => {\r\n        dispatch({\r\n            type: 'cart/addToCart',\r\n            payload: good\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (itemRef.current) {\r\n            props.getNum(itemRef.current.childNodes.length)\r\n        }\r\n    }, [props])\r\n\r\n    if (!props.data) return null\r\n    let list = props.data,\r\n        size = props.sizes\r\n    let sizeArr = Object.entries(size).filter(item => item[1] === true).map(v => v[0])\r\n\r\n    return (\r\n        <div ref={itemRef} className=\"item-container\">\r\n            {\r\n                list.map((_, i) => {\r\n                    for (let v of list[i].availableSizes) {\r\n                        if (sizeArr.includes(v)) return (\r\n                            <div className=\"item\" key={list[i].id}>\r\n                                <div className=\"item-title\">免运费</div>\r\n                                <div>\r\n                                    <img className=\"item-img\" src={require(`../../assets/${list[i].id}.jpg`)} alt=\"\" />\r\n                                </div>\r\n                                <p className=\"item-name\">{list[i].title}</p>\r\n                                <p style={{marginBottom:'0'}}>尺码：{list[i].availableSizes.join(' , ')}</p>\r\n                                <div className=\"item-price\">\r\n                                    <div className=\"val\">\r\n                                        <span>$</span>\r\n                                        <b>{list[i].price.toString().split('.')[0]}</b>\r\n                                        <span style={{fontSize:'16px'}}>.{((list[i].price.toString().split('.')[1] || '') + '00').substr(0, 2)}</span>\r\n                                    </div>\r\n                                    {\r\n                                        list[i].installments !== 0 && <div className=\"installment\">\r\n                                            <span style={{fontSize:'16px'}}>或 {list[i].installments} x </span>\r\n                                            <b style={{fontSize:'16px'}}>${(list[i].price / list[i].installments).toFixed(2)}</b>\r\n                                        </div>\r\n                                    }\r\n                                </div>\r\n                                <div onClick={() => addToCart(list[i])} className=\"item-btn\">添加至购物车</div>\r\n                            </div>\r\n                        )\r\n                    }\r\n                    return null\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps)(Items)\r\n","import React from 'react'\r\nimport './index.css'\r\n\r\nexport default function Spin({ isSpin }) {\r\n    return (\r\n        <div style={{display:isSpin ? 'flex' : 'none'}} className=\"spinContainer\">\r\n            <div className=\"sk-folding-cube\">\r\n                <div className=\"sk-cube1 sk-cube\"></div>\r\n                <div className=\"sk-cube2 sk-cube\"></div>\r\n                <div className=\"sk-cube4 sk-cube\"></div>\r\n                <div className=\"sk-cube3 sk-cube\"></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport './index.css'\r\nimport { Menu, Dropdown } from 'antd'\r\nimport { connect } from 'dva'\r\nimport 'antd/dist/antd.css';\r\nimport Items from '../Items/index'\r\nimport Spin from '../Spin/index'\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        data: state.products.data,\r\n        sizes: state.products.sizes,\r\n        error: state.products.error,\r\n        isSpin: state.products.isSpin\r\n    }\r\n}\r\n\r\nfunction Shelf(props) {\r\n    // 存储当前展示的个数\r\n    const [quantity, setQuantity] = useState(0)\r\n    // 存储排序方式\r\n    const [sortWay, setSortWay] = useState('点击选择')\r\n\r\n    // 点击排序\r\n    const sortItem = (e) => {\r\n        if (e.key === '0') {\r\n            setSortWay('默认排序')\r\n        } else if (e.key === '1') {\r\n            setSortWay('价格从低到高')\r\n        } else if (e.key === '2') {\r\n            setSortWay('价格从高到低')\r\n        }\r\n        const { dispatch } = props\r\n        dispatch({\r\n            type: 'products/sortCarts',\r\n            payload: {\r\n                key: e.key\r\n            }\r\n        })\r\n    }\r\n\r\n    // 下拉组件\r\n    const menu = (\r\n        <Menu onClick={(e) => sortItem(e)}>\r\n            <Menu.Item key=\"0\">默认排序</Menu.Item>\r\n            <Menu.Divider />\r\n            <Menu.Item key=\"1\">价格从低到高</Menu.Item>\r\n            <Menu.Divider />\r\n            <Menu.Item key=\"2\">价格从高到低</Menu.Item>\r\n        </Menu>\r\n    )\r\n\r\n    const getNum = (len) => {\r\n        setQuantity(len)\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"header\">\r\n                <span className=\"information\">共查找到 { quantity } 件商品。</span>\r\n                <div className=\"sort\">\r\n                    根据&nbsp;&nbsp;\r\n                    <Dropdown overlay={menu} trigger={['click']}>\r\n                        <span className=\"select ant-dropdown-link\" onClick={e => e.preventDefault()}> {sortWay} </span>\r\n                    </Dropdown>\r\n                    &nbsp;&nbsp;排序\r\n                </div>\r\n            </div>\r\n            <Items getNum={getNum} />\r\n            <h1 style={{display: props.error === null ? 'none' : 'block', color: 'red'}}>数据获取失败: {props.error && props.error.toString()}</h1>\r\n            <Spin isSpin={props.isSpin} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps)(Shelf)\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport './index.css'\r\nimport { connect } from 'dva'\r\nimport { Modal, message, notification } from 'antd'\r\nimport 'antd/dist/antd.css';\r\n\r\nconst mapStateToProps = state => {\r\n    // console.log('float', state);\r\n    return {\r\n        shopCart: state.cart.shopCart,\r\n        isEject: state.cart.isEject\r\n    }\r\n}\r\n\r\nfunction Float(props) {\r\n    const { dispatch, isEject, shopCart } = props\r\n    // 存储商品数量\r\n    const [quantity, setQuantity] = useState(0)\r\n    // 总价\r\n    const [totalPrice, setTotalPrice] = useState(0)\r\n    const [isModalVisible, setIsModalVisible] = useState(false);\r\n\r\n    // 按钮实例\r\n    const boxRef = useRef()\r\n    const ctlRef = useRef()\r\n    const quantityRef = useRef()\r\n    const openRef = useRef()\r\n    const delRef = useRef()\r\n\r\n    // 警告提示\r\n    const openNotificationWithIcon = type => {\r\n        notification[type]({\r\n          message: '购物车是空的',\r\n          description: '你需要添加一些商品到购物车',\r\n        });\r\n      };\r\n\r\n    // 打开购物车\r\n    const openFloat = () => {\r\n        // console.log('openFloat', isEject);\r\n        dispatch({type: 'cart/openShop'})\r\n        boxRef.current.classList.add('float-open')\r\n        ctlRef.current.style.display = 'none'\r\n        openRef.current.style.display = 'inline-block'\r\n    }\r\n\r\n    // 关闭购物车\r\n    const closeFloat = () => {\r\n        // console.log('closeFloat', isEject);\r\n        dispatch({ type: 'cart/closeShop' })\r\n        boxRef.current.classList.remove('float-open')\r\n        openRef.current.style.display = 'none'\r\n        ctlRef.current.style.display = 'inline-block'\r\n    }\r\n\r\n    // 删除购物车中的商品\r\n    const deleteCart = (id) => {\r\n        dispatch({\r\n            type: 'cart/deleteCart',\r\n            payload: id\r\n        })\r\n    }\r\n\r\n    // 合计分期\r\n    const totalInstallment = (totalPrice) => {\r\n        if (totalPrice - 0 === 0) return null\r\n        return (\r\n            <span style={{fontSize:'16px'}}>OR UP TO 9 x $ {(totalPrice / 9).toFixed(2)}</span>\r\n        )\r\n    }\r\n\r\n    // 减少一个商品\r\n    const subtrack = (id) => {\r\n        dispatch({\r\n            type: 'cart/subtrackGood',\r\n            payload: id\r\n        })\r\n    }\r\n\r\n    // 增加一个商品\r\n    const add = (id) => {\r\n        dispatch({\r\n            type: 'cart/addOneGood',\r\n            payload: id\r\n        })\r\n    }\r\n\r\n    // 清空购物车\r\n    const clearAllGoods = () => {\r\n        if (!shopCart.length) {\r\n            openNotificationWithIcon('warning')\r\n            return\r\n        }\r\n        setIsModalVisible(true);\r\n    }\r\n\r\n    // 绑定移入移出事件\r\n    useEffect(() => {\r\n        let cross = document.querySelectorAll('.float-item-del')\r\n        if (cross.length) {\r\n            for (let item of cross) {\r\n                item.addEventListener('mouseenter', function(e) {\r\n                    e.target.parentNode.style.backgroundColor = '#0c0b10'\r\n                    e.target.parentNode.childNodes[3].childNodes[0].style.textDecoration = 'line-through'\r\n                    e.target.parentNode.childNodes[3].childNodes[1].style.textDecoration = 'line-through'\r\n                    e.target.parentNode.childNodes[4].childNodes[0].style.textDecoration = 'line-through'\r\n                    e.target.style.color = '#fff'\r\n                })\r\n                item.addEventListener('mouseleave', function(e) {\r\n                    e.target.parentNode.style.backgroundColor = '#1b1a20'\r\n                    e.target.parentNode.childNodes[3].childNodes[0].style.textDecoration = 'none'\r\n                    e.target.parentNode.childNodes[3].childNodes[1].style.textDecoration = 'none'\r\n                    e.target.parentNode.childNodes[4].childNodes[0].style.textDecoration = 'none'\r\n                    e.target.style.color = '#000'\r\n                })\r\n            }\r\n        }\r\n    }, [props])\r\n\r\n    // 计算属性\r\n    useEffect(() => {\r\n        // 数量\r\n        let num = (shopCart || []).reduce((pre, cur) => {\r\n            return pre + cur.quantity\r\n        }, 0)\r\n        setQuantity(num)\r\n        // 总价\r\n        let total = (shopCart || []).reduce((pre, cur) => {\r\n            return pre + cur.quantity * cur.price\r\n        }, 0)\r\n        setTotalPrice(total.toFixed(2))\r\n    }, [props])\r\n\r\n    // 弹出购物车\r\n    useEffect(() => {\r\n        if (isEject) openFloat()\r\n        else closeFloat()\r\n    }, [props.isEject])\r\n\r\n    // 储存购物车数据\r\n    const [init, setInit] = useState(false)\r\n    useEffect(() => {\r\n        if (!init) {\r\n            setInit(true)\r\n        } else {\r\n            localStorage.setItem('shopCart', JSON.stringify(props.shopCart))\r\n        }\r\n    }, [props.shopCart])\r\n\r\n    const handleOk = () => {\r\n        setIsModalVisible(false);\r\n        message.success('购买成功')\r\n        dispatch({\r\n            type: 'cart/clearShopCart'\r\n        })\r\n    };\r\n\r\n    const handleCancel = () => {\r\n        setIsModalVisible(false);\r\n    };\r\n\r\n    return (\r\n        <div ref={boxRef} className=\"float-cart\">\r\n            <span onClick={() => openFloat()} ref={ctlRef} className=\"float-control float-control-close\">\r\n                <span ref={quantityRef} className=\"cart-quantity\">{quantity}</span>\r\n            </span>\r\n            <div onClick={() => closeFloat()} ref={openRef} className=\"float-control float-control-open\">×</div>\r\n            <div className=\"float-container\">\r\n                <div className=\"float-header\">\r\n                    <span className=\"float-bag\">\r\n                        <span className=\"cart-quantity offset\">{quantity}</span>\r\n                    </span>\r\n                    <span className=\"header-title\">购物车</span>\r\n                </div>\r\n                <div className=\"float-content\">\r\n                    {\r\n                        (!shopCart?.length && <p>购物车是空的<br />🚚</p>) || shopCart.map((v, i) => {\r\n                            return (\r\n                                <div key={v.id} className=\"float-item\">\r\n                                    <i ref={delRef} onClick={() => deleteCart(v.id)} className=\"float-item-del fas fa-times\"></i>\r\n                                    <div></div>\r\n                                    <div className=\"float-item-image\">\r\n                                        <img src={require(`../../assets/${v.id}.jpg`)} alt=\"\" />\r\n                                    </div>\r\n                                    <div className=\"float-item-details\">\r\n                                        <p className=\"float-item-title\">{v.title}</p>\r\n                                        <p className=\"float-item-content\">\r\n                                            {v.availableSizes[0]} | {v.style}\r\n                                            <br />\r\n                                            Quantity: {v.quantity}\r\n                                        </p>\r\n                                    </div>\r\n                                    <div className=\"float-item-price\">\r\n                                        <p>$ {parseFloat(v.price + (v.price.toString().split('.')[1] === undefined ? '.00' : '00' )).toFixed(2)}</p>\r\n                                        <div>\r\n                                            <button onClick={() => subtrack(v.id)} disabled={v.quantity === 1 ? 'disbaled' : ''} className=\"subtrack\">-</button>\r\n                                            <button onClick={() => add(v.id)} className=\"add\">+</button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n                <div className=\"float-footer\">\r\n                    <div className=\"subtotal\">合计</div>\r\n                    <div className=\"sub-price\">\r\n                        <p className=\"sub-val\">$ {totalPrice}</p>\r\n                        <small className=\"sub-installment\">\r\n                            {totalInstallment(totalPrice)}\r\n                        </small>\r\n                    </div>\r\n                    <div onClick={clearAllGoods} className=\"bought\">支付</div>\r\n                    <Modal title=\"提示\" okText=\"确认提交\" cancelText=\"我再想想\" visible={isModalVisible} onOk={handleOk} onCancel={handleCancel}>\r\n                        <p>共计 {totalPrice} 美元</p>\r\n                    </Modal>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps)(Float)","import React, { useEffect } from 'react';\r\nimport './App.css';\r\nimport { connect } from 'dva'\r\n// 过滤部分\r\nimport Filters from './components/Filters'\r\n// 主体部分\r\nimport Shelf from './components/Shelf'\r\n// 购物车部分\r\nimport Float from './components/Float'\r\n\r\nfunction App(props) {\r\n  // 发送请求，获取数据\r\n  useEffect(() => {\r\n    const { dispatch } = props\r\n    dispatch({\r\n      type: 'products/getListHttp'\r\n    })\r\n    dispatch({\r\n      type: 'cart/getShopCart'\r\n    })\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Filters />\r\n      <Shelf />\r\n      <Float />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect()(App)\r\n","import React from 'react';\r\nimport { Router, Route, Switch } from 'dva/router';\r\nimport App from './App';\r\n \r\nfunction RouterConfig({ history }) {\r\n    return (\r\n        <Router history={history}>\r\n            <Switch>\r\n                <Route path=\"/\" exact component={App} />\r\n            </Switch>\r\n        </Router>\r\n    );\r\n}\r\n \r\nexport default RouterConfig;","// 获取数据\r\nexport function getList() {\r\n    return fetch('https://react-shopping-cart-67954.firebaseio.com/products.json')\r\n        .then(response => {\r\n            return response.json()\r\n        })\r\n        .then(data => {\r\n            return data\r\n        })\r\n        .catch(error => {\r\n            return new Error(error)\r\n        })\r\n}\r\n\r\n// 排序\r\nexport function sortCart(key, data) {\r\n    if (key === '0') {\r\n        data.sort((a, b) => a.id - b.id)\r\n    } else if (key === '1') {\r\n        data.sort((a, b) => a.price - b.price)\r\n    } else if (key === '2') {\r\n        data.sort((a, b) => b.price - a.price)\r\n    }\r\n    return data\r\n}","import { getList, sortCart } from './services/util'\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default {\r\n    namespace: 'products',\r\n    state: {\r\n        sizes: {\r\n            'XS': true,\r\n            'S': true,\r\n            'M': true,\r\n            'ML': true,\r\n            'L': true,\r\n            'XL': true,\r\n            'XXL': true\r\n        },\r\n        data: null,\r\n        error: null,\r\n        isSpin: true\r\n    },\r\n    effects: {\r\n        // 获取数据\r\n        * getListHttp(_, { call, put }) {\r\n            const result = yield call(getList)\r\n            yield put({\r\n                type: 'setData',\r\n                payload: {\r\n                    data: result\r\n                }\r\n            })\r\n        },\r\n        // 排序\r\n        * sortCarts({ payload: obj }, { call, put, select }) {\r\n            const data = yield select(state => state.products.data)\r\n            const result = yield call(sortCart, obj.key, data)\r\n            yield put({\r\n                type: 'sort',\r\n                payload: {\r\n                    data: result\r\n                }\r\n            })\r\n        }\r\n    },\r\n    reducers: {\r\n        setData(state, { payload: res }) {\r\n            // console.log('getData', res);\r\n            state.isSpin = false\r\n            if (res.data.toString().includes('Error')) {\r\n                return {\r\n                    ...state,\r\n                    error: res.data\r\n                }\r\n            } else {\r\n                return {\r\n                    ...state,\r\n                    data: res.data.products\r\n                }\r\n            }\r\n        },\r\n        get(state) {\r\n            // console.log('get', state);\r\n            return {\r\n                ...state\r\n            }\r\n        },\r\n        // 过滤尺码\r\n        filterSize(state, {payload: sizes}) {\r\n            // console.log('filterSize', sizes)\r\n            return {\r\n                ...state,\r\n                ...sizes\r\n            }\r\n        },\r\n        // 排序\r\n        sort(state, {payload: data}) {\r\n            console.log('sort', data);\r\n            return {\r\n                ...state,\r\n                ...data\r\n            }\r\n        },\r\n    },\r\n}"],"sourceRoot":""}