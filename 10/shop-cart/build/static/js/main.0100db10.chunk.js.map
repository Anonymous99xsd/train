{"version":3,"sources":["index.js","assets sync /^/.*/.jpg$","assets/01.jpg","assets/02.jpg","assets/03.jpg","assets/04.jpg","assets/05.jpg","assets/06.jpg","assets/07.jpg","assets/08.jpg","assets/09.jpg","assets/10.jpg","assets/11.jpg","assets/12.jpg","assets/13.jpg","assets/14.jpg","assets/15.jpg","assets/16.jpg","assets/17.jpg","components/Filters/index.js","components/Items/index.js","components/Shelf/index.js","App.js","router.js","services/util.js","services/products.js"],"names":["app","dva","model","require","default","router","start","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","connect","state","sizes","data","props","useState","isFilter","setIsFilter","className","entries","arr","i","htmlFor","type","value","onClick","sizeName","bool","console","log","dispatch","obj","JSON","parse","stringify","values","filter","v","length","name","payload","chooseSize","itemRef","useRef","useEffect","current","getNum","childNodes","list","size","sizeArr","item","ref","availableSizes","includes","src","alt","title","price","toString","split","style","fontSize","installments","toFixed","quantity","setQuantity","sortWay","setSortWay","menu","key","sort","a","b","sortItem","Item","Divider","overlay","trigger","preventDefault","len","RouterConfig","history","path","exact","component","App","getList","fetch","then","response","json","catch","error","namespace","effects","getListHttp","_","call","put","result","products","reducers","getData","get","filterSize"],"mappings":"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","file":"static/js/main.0100db10.chunk.js","sourcesContent":["import dva from \"dva\";\n\nconst app = dva()\n\napp.model(require('./services/products').default)\n\napp.router(require('./router').default)\n\napp.start('#root')","var map = {\n\t\"./01.jpg\": 283,\n\t\"./02.jpg\": 284,\n\t\"./03.jpg\": 285,\n\t\"./04.jpg\": 286,\n\t\"./05.jpg\": 287,\n\t\"./06.jpg\": 288,\n\t\"./07.jpg\": 289,\n\t\"./08.jpg\": 290,\n\t\"./09.jpg\": 291,\n\t\"./10.jpg\": 292,\n\t\"./11.jpg\": 293,\n\t\"./12.jpg\": 294,\n\t\"./13.jpg\": 295,\n\t\"./14.jpg\": 296,\n\t\"./15.jpg\": 297,\n\t\"./16.jpg\": 298,\n\t\"./17.jpg\": 299\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 282;","module.exports = __webpack_public_path__ + \"static/media/01.bfdc616c.jpg\";","module.exports = __webpack_public_path__ + \"static/media/02.eeca77d9.jpg\";","module.exports = __webpack_public_path__ + \"static/media/03.9cb24054.jpg\";","module.exports = __webpack_public_path__ + \"static/media/04.96badb6f.jpg\";","module.exports = __webpack_public_path__ + \"static/media/05.e86f32a0.jpg\";","module.exports = __webpack_public_path__ + \"static/media/06.6487e09e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/07.7ec39881.jpg\";","module.exports = __webpack_public_path__ + \"static/media/08.310ac226.jpg\";","module.exports = __webpack_public_path__ + \"static/media/09.5a25035a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/10.c23ce225.jpg\";","module.exports = __webpack_public_path__ + \"static/media/11.ebf63603.jpg\";","module.exports = __webpack_public_path__ + \"static/media/12.1250c07d.jpg\";","module.exports = __webpack_public_path__ + \"static/media/13.054e6832.jpg\";","module.exports = __webpack_public_path__ + \"static/media/14.0d58ff93.jpg\";","module.exports = __webpack_public_path__ + \"static/media/15.be081f68.jpg\";","module.exports = __webpack_public_path__ + \"static/media/16.27b63c57.jpg\";","module.exports = __webpack_public_path__ + \"static/media/17.96badb6f.jpg\";","import React, { useState } from 'react'\r\nimport './index.css'\r\nimport { connect } from 'dva'\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        sizes: state.data.sizes\r\n    }\r\n}\r\n\r\nfunction Filters(props) {\r\n    // 是否开启过滤\r\n    const [isFilter, setIsFilter] = useState(true)\r\n\r\n    // 选择过滤尺码\r\n    function chooseSize(sizeName, bool) {\r\n        console.log(bool);\r\n        const { dispatch, sizes} = props\r\n        let obj = JSON.parse(JSON.stringify(sizes))\r\n        let len = Object.values(obj).filter(v => v === false).length\r\n        if (!len && isFilter) {\r\n            for (let name in obj) {\r\n                if (name === sizeName) continue\r\n                obj[name] = false\r\n            }\r\n            setIsFilter(false)\r\n        } else {\r\n            for (let name in obj) {\r\n                if (name === sizeName) {\r\n                    obj[name] = !bool\r\n                }\r\n            }\r\n        }\r\n        if (Object.values(obj).filter(v => v === true).length === 0) {\r\n            for (let name in obj) {\r\n                obj[name] = true\r\n            }\r\n            setIsFilter(true)\r\n        }\r\n        \r\n        dispatch({\r\n            type: 'data/filterSize',\r\n            payload: {\r\n                sizes: obj\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"filters\">\r\n            <h4 className=\"title\">尺码：</h4>\r\n            {\r\n                props.sizes && Object.entries(props.sizes).map((arr, i) => {\r\n                    return (\r\n                        <div className=\"filters-btn\" key={i}>\r\n                            <label htmlFor={arr[0]}>\r\n                                <input type=\"checkbox\" value={arr[0]} id={arr[0]} />\r\n                                <span onClick={() => {chooseSize(arr[0], arr[1])}} className=\"checkmark\">{arr[0]}</span>\r\n                            </label>\r\n                        </div>\r\n                    )\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps)(Filters)","import React, { useEffect, useRef } from 'react'\r\nimport { connect } from 'dva'\r\nimport './index.css'\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        data: state.data.data,\r\n        sizes: state.data.sizes\r\n    }\r\n}\r\n\r\nfunction Items(props) {\r\n    const itemRef = useRef()\r\n\r\n    useEffect(() => {\r\n        if (itemRef.current) {\r\n            props.getNum(itemRef.current.childNodes.length)\r\n        }\r\n    }, [props])\r\n\r\n    if (!props.data) return null\r\n    let list = props.data,\r\n        size = props.sizes\r\n    let sizeArr = Object.entries(size).filter(item => item[1] === true).map(v => v[0])\r\n    console.log('size', sizeArr, list);\r\n\r\n    return (\r\n        <div ref={itemRef} className=\"item-container\">\r\n            {\r\n                list.map((v, i) => {\r\n                    for (let v of list[i].availableSizes) {\r\n                        if (sizeArr.includes(v)) return (\r\n                            <div className=\"item\" key={list[i].id}>\r\n                                <div className=\"item-title\">Free shipping</div>\r\n                                <div>\r\n                                    <img className=\"item-img\" src={require(`../../assets/${i + 1 < 10 ? '0' + (i + 1) : i + 1}.jpg`)} alt=\"\" />\r\n                                </div>\r\n                                <p className=\"item-name\">{list[i].title}</p>\r\n                                <div className=\"item-price\">\r\n                                    <div className=\"val\">\r\n                                        <span>$</span>\r\n                                        <b>{list[i].price.toString().split('.')[0]}</b>\r\n                                        <span style={{fontSize:'16px'}}>.{list[i].price.toString().split('.')[1] || '00'}</span>\r\n                                    </div>\r\n                                    <div className=\"installment\">\r\n                                        <span style={{fontSize:'16px'}}>or {list[i].installments} x </span>\r\n                                        <b style={{fontSize:'16px'}}>${(list[i].price / list[i].installments).toFixed(2)}</b>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"item-btn\">Add to cart</div>\r\n                            </div>\r\n                        )\r\n                    }\r\n                    return null\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps)(Items)","import React, { useState } from 'react'\r\nimport './index.css'\r\nimport { Menu, Dropdown } from 'antd'\r\nimport { connect } from 'dva'\r\nimport 'antd/dist/antd.css';\r\nimport Items from '../Items/index'\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        data: state.data.data,\r\n        sizes: state.data.sizes\r\n    }\r\n}\r\n\r\nfunction Shelf(props) {\r\n    // 存储当前展示的个数\r\n    const [quantity, setQuantity] = useState(0)\r\n    // 存储排序方式\r\n    const [sortWay, setSortWay] = useState('点击选择')\r\n\r\n    // 点击排序\r\n    const sortItem = (e) => {\r\n        console.log(e);\r\n        let obj = JSON.parse(JSON.stringify(props.data))\r\n        if (e.key === '0') {\r\n            obj.sort((a, b) => a.id - b.id)\r\n            setSortWay('默认排序')\r\n        } else if (e.key === '1') {\r\n            obj.sort((a, b) => a.price - b.price)\r\n            setSortWay('价格从低到高')\r\n        } else if (e.key === '2') {\r\n            obj.sort((a, b) => b.price - a.price)\r\n            setSortWay('价格从高到低')\r\n        }\r\n\r\n        const { dispatch } = props\r\n        dispatch({\r\n            type: 'data/sort',\r\n            payload: {\r\n                data: obj\r\n            }\r\n        })\r\n    }\r\n\r\n    // 下拉组件\r\n    const menu = (\r\n        <Menu onClick={(e) => sortItem(e)}>\r\n            <Menu.Item key=\"0\">默认排序</Menu.Item>\r\n            <Menu.Divider />\r\n            <Menu.Item key=\"1\">价格从低到高</Menu.Item>\r\n            <Menu.Divider />\r\n            <Menu.Item key=\"2\">价格从高到低</Menu.Item>\r\n        </Menu>\r\n    )\r\n\r\n    const getNum = (len) => {\r\n        setQuantity(len)\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"header\">\r\n                <span className=\"information\">共查找到 { quantity } 件商品。</span>\r\n                <div className=\"sort\">\r\n                    根据&nbsp;&nbsp;\r\n                    <Dropdown overlay={menu} trigger={['click']}>\r\n                        <span className=\"select ant-dropdown-link\" onClick={e => e.preventDefault()}> {sortWay} </span>\r\n                    </Dropdown>\r\n                    &nbsp;&nbsp;排序\r\n                </div>\r\n            </div>\r\n            <Items getNum={getNum} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps)(Shelf)","import React, { useEffect } from 'react';\nimport './App.css';\nimport { connect } from 'dva'\n// 过滤部分\nimport Filters from './components/Filters'\n// 主体部分\nimport Shelf from './components/Shelf'\n\nfunction App(props) {\n  // 发送请求，获取数据\n  useEffect(() => {\n    const { dispatch } = props\n    dispatch({\n      type: 'data/getListHttp'\n    })\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <div className=\"App\">\n      <Filters />\n      <Shelf />\n    </div>\n  );\n}\n\nexport default connect()(App)\n","import React from 'react';\r\nimport { Router, Route, Switch } from 'dva/router';\r\nimport App from './App';\r\n \r\nfunction RouterConfig({ history }) {\r\n    return (\r\n        <Router history={history}>\r\n            <Switch>\r\n                <Route path=\"/\" exact component={App} />\r\n            </Switch>\r\n        </Router>\r\n    );\r\n}\r\n \r\nexport default RouterConfig;","export function getList() {\r\n    return fetch('http://localhost:8001/api/products')\r\n        .then(response => {\r\n            return response.json()\r\n        })\r\n        .then(data => {\r\n            return data\r\n        })\r\n        .catch(error => {\r\n            throw new Error(error)\r\n        })\r\n}","import {\r\n    getList\r\n} from './util'\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default {\r\n    namespace: 'data',\r\n    state: {\r\n        sizes: {\r\n            'XS': true,\r\n            'S': true,\r\n            'M': true,\r\n            'ML': true,\r\n            'L': true,\r\n            'XL': true,\r\n            'XXL': true\r\n        },\r\n        data: null\r\n    },\r\n    effects: {\r\n        // 获取数据\r\n        * getListHttp(_, { call, put }) {\r\n            const result = yield call(getList)\r\n            yield put({\r\n                type: 'getData',\r\n                payload: {\r\n                    data: result.products\r\n                }\r\n            })\r\n        },\r\n    },\r\n    reducers: {\r\n        getData(state, {\r\n            payload: data\r\n        }) {\r\n            console.log('getData', state);\r\n            return {\r\n                ...state,\r\n                ...data\r\n            }\r\n        },\r\n        get(state) {\r\n            console.log('get', state);\r\n            return {\r\n                ...state\r\n            }\r\n        },\r\n        // 过滤尺码\r\n        filterSize(state, {payload: sizes}) {\r\n            console.log('filterSize', sizes)\r\n            return {\r\n                ...state,\r\n                ...sizes\r\n            }\r\n        },\r\n        // 排序\r\n        sort(state, {payload: data}) {\r\n            console.log('sort', data);\r\n            return {\r\n                ...state,\r\n                ...data\r\n            }\r\n        },\r\n    },\r\n}"],"sourceRoot":""}